<!DOCTYPE html>
<html lang="en-gb">
<head>
    <title>Hodor chatbot</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="Hodor Hodor Hodor HODOR." />
    <meta name="hodor" content="Hodor" />

    <script>
    document.createElement('hodor');
    </script>

    <style type="text/css">
        html {background:#000;color: rgb(0, 255, 0);}
        hodor:nth-of-type(1) {
            border: solid 1px rgb(0, 255, 0);
            display: block;
            height: 400px;
            margin-bottom: 1em;
            overflow: hidden;
            white-space: pre-line;
            width: 300px;
        }
        hodor:nth-of-type(2) {
            display: inline-block;
            margin-right: 1em;
            position: relative;
            vertical-align: top;
            margin-bottom: 3em;
        }
        hodor:nth-of-type(3) {
            border: solid 1px;
            display: inline-block;
            min-height: 20px;
            padding-left: 0.2em;
            width: 200px;
        }
        hodor:nth-of-type(3):focus {
            outline-color: rgb(0, 255, 0);
        }
        .hodor:before {
            background: rgba(255,255,255,0.2);
            color: rgb(0, 255, 0);
            content: "Hodor Hodor ..";
            font-style: italic;
            left: 1px;
            padding-left: 1em;
            position: absolute;
            top: -37px;
            width: 280px;
        }

        /* GitHub banner */
        .footnote {
            background: rgba(255, 255, 255, 0.8);
            bottom: 0;
            color: #000;
            font-family: Arial;
            font-size: 1rem;
            left: 0;
            line-height: 1.4;
            margin: 0;
            padding: 0.1em;
            position: fixed;
            text-align: center;
            width: 100%;
        }
        .github {
            color: #4183c4;
            display: inline-block;
            text-decoration: none;
            vertical-align: top;
        }
        .github:hover,
        .github:focus {
            text-decoration: underline;
        }
        .github:before {
            background: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMjhweCIgaGVpZ2h0PSIxMjVweCI+DQogIDxkZWZzPg0KICAgIDxnIGlkPSJpbWFnZSIgdHJhbnNmb3JtPSJzY2FsZSgwLjEyNSwtMC4xMjUpIj4NCiAgICAgIDxwYXRoIGQ9Ik01MTIgODMyYy0yODMgMC01MTItMjI5LTUxMi01MTIgMC0yMjYgMTQ3LTQxOCAzNTAtNDg2IDI2LTUgMzUgMTEgMzUgMjUgMCAxMiAwIDUzLTEgOTUtMTQyLTMxLTE3MiA2MC0xNzIgNjAtMjMgNTktNTcgNzUtNTcgNzUtNDcgMzIgNCAzMSA0IDMxIDUxLTQgNzgtNTMgNzgtNTMgNDYtNzggMTIwLTU2IDE0OS00MyA1IDMzIDE4IDU2IDMzIDY4LTExNCAxMy0yMzMgNTctMjMzIDI1MyAwIDU2IDIwIDEwMiA1MyAxMzctNSAxMy0yMyA2NSA1IDEzNiAwIDAgNDMgMTQgMTQxLTUzIDQxIDExIDg1IDE3IDEyOCAxNyA0NCAwIDg3LTYgMTI4LTE3IDk4IDY2IDE0MSA1MyAxNDEgNTMgMjgtNzEgMTAtMTIzIDUtMTM2IDMzLTM2IDUzLTgxIDUzLTEzNyAwLTE5Ny0xMjAtMjQwLTIzNC0yNTMgMTgtMTYgMzUtNDcgMzUtOTUgMC02OC0xLTEyNC0xLTE0MSAwLTE0IDktMzAgMzUtMjUgMjAzIDY4IDM1MCAyNjAgMzUwIDQ4NiAwIDI4My0yMjkgNTEyLTUxMiA1MTJ6IiAvPg0KICAgIDwvZz4NCiAgPC9kZWZzPg0KDQogIDx1c2UgeGxpbms6aHJlZj0iI2ltYWdlIiB4PSIwIiB5PSIxMDQiIGZpbGw9IiMwMDAiLz4NCjwvc3ZnPg==) no-repeat 0 0;
            background-size: contain;
            content: "";
            display: inline-block;
            height: 15px;
            margin-right: 0.5rem;
            margin-top: 0.1rem;
            width: 15px;
        }
    </style>
</head>
<body>

    <hodor></hodor>
    <hodor>Hodor: </hodor>
    <hodor></hodor>


    <hodor class="footnote">Experiment by Graham Licence. <a href="https://github.com/grahamlicence/hodor-chatbot" class="github">Fork me on GitHub</a></hodor>
    <script>
    var HodorHodor = document.querySelectorAll('hodor'),
        hodor = HodorHodor[0],
        hodorhodor = HodorHodor[1],
        hodorhodorhodor = HodorHodor[2],
        hodorhodorhodorhodor = '> Hodor?\r';

    function hodorHodor () {
        hodor.innerHTML = hodorhodorhodorhodor;
        hodor.scrollTop = hodor.scrollHeight;
        hodorhodorhodor.setAttribute('contentEditable', true);
        hodorhodor.className = '';
        hodorhodorhodor.focus();
    }

    function hodorHodorHodorHodor () {
        var h = parseInt(Math.random() * 10),
            o = 'Hodor ',
            d = '';
            for (var r = 0; r < h; r += 1) {
                d += 'Hodor ';
            }
            if (!h) {
                d += 'Hordor??? ';
            } else if (Math.random() < 0.25) {
                d += 'HODOR ';
            }
        hodorhodorhodorhodor += '> ' + d + '\r';
        setTimeout(hodorHodor, h * 100);
    }

    function hodorHodorHodor () {
        var h = hodorhodorhodor.innerHTML,
            o = h.split(' ').length - 1,
            r = 'Hodor ';

            for (var d = 0; d < o; d+=1) {
                r += 'Hodor ';
            }
        hodorhodorhodor.innerHTML = '';
        hodorhodorhodorhodor += '* ' + r + '\r';
        hodorHodor();
        hodorhodorhodor.setAttribute('contentEditable', false);
        hodorhodor.className = 'hodor';
        hodorHodorHodorHodor();
    }

    hodorhodorhodor.addEventListener('keypress', function (HODOR) {
        if (HODOR.keyCode === 13) {
            HODOR.preventDefault();
            if (hodorhodorhodor.innerHTML.length) {
                hodorHodorHodor();
            }
        }
    });

    hodorHodor();
    </script>
</body>
</html>